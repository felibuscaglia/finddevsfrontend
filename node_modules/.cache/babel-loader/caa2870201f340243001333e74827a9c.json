{"ast":null,"code":"import _regeneratorRuntime from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useLayoutEffect,useState}from'react';import style from'./EditUser.module.css';import{connect}from'react-redux';import Verified from'../../Media/Verification.png';import GoPremium from'../../Components/GoPremiumPopUp/GoPremium';import{CountryDropdown,RegionDropdown,CountryRegionData}from'react-country-region-selector';import{Hint}from'react-autocomplete-hint';import Loading from'../../Media/Loading.gif';import{BlockPicker}from'react-color';import axios from'axios';import{getBrightness}from'../../utils';import jwt from'jsonwebtoken';import{setUserInfo as _setUserInfo}from'../../Actions/index';import{Alert}from'reactstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPortrait,faTimesCircle}from'@fortawesome/free-solid-svg-icons';import{faGithubSquare,faLinkedin,faTwitterSquare}from'@fortawesome/free-brands-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditUser(_ref){var user=_ref.user,skills=_ref.skills,setUserInfo=_ref.setUserInfo;var _useState=useState({email:user.email,color:user.color,gitHub:user.gitHub,linkedIn:user.linkedIn,twitter:user.twitter,description:user.description,country:user.country,region:user.region}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(user.profilePic),_useState4=_slicedToArray(_useState3,2),preview=_useState4[0],setPreview=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),selectedSkills=_useState6[0],setSelectedSkills=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),errors=_useState8[0],setErrors=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),file=_useState10[0],setFile=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),btnDisabled=_useState12[0],setDisabled=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];function asyncUseEffect(_x){return _asyncUseEffect.apply(this,arguments);}function _asyncUseEffect(){_asyncUseEffect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setUserInfo(username);case 2:case\"end\":return _context.stop();}}},_callee);}));return _asyncUseEffect.apply(this,arguments);}useLayoutEffect(function(){if(!user.username){var _user=jwt.decode(JSON.parse(localStorage.getItem('user')));if(_user){asyncUseEffect(_user.username);}else window.location.replace('/error');}setPreview(user.profilePic);setInput({email:user.email,color:user.color,gitHub:user.gitHub,linkedIn:user.linkedIn,twitter:user.twitter,description:user.description,country:user.country,region:user.region});setSelectedSkills(user.skills);setLoading(false);},[user]);function check(e){setFile(e.target.files[0]);setPreview(URL.createObjectURL(e.target.files[0]));}function addSkill(e){if(e.keyCode===13){var found=skills.find(function(skill){return skill.label.toLowerCase()===e.target.value.toLowerCase();});var found2=selectedSkills.find(function(skill){return skill.label.toLowerCase()===e.target.value.toLowerCase();});if(found&&!found2){setSelectedSkills(selectedSkills.concat(found));e.target.value='';}}}function removeSkill(e){setSelectedSkills(selectedSkills.filter(function(skill){return skill.label!==e.target.name;}));}function handleInputChange(e){var copyOfErrors=errors;var noErrors=true;if(e.hex)return setInput(_objectSpread(_objectSpread({},input),{},{color:e.hex}));if(e.target.name==='email'){if(!/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g.test(e.target.value))copyOfErrors=_objectSpread(_objectSpread({},copyOfErrors),{},{email:true});else copyOfErrors=_objectSpread(_objectSpread({},copyOfErrors),{},{email:false});}if(e.target.name==='gitHub'||e.target.name==='linkedIn'||e.target.name==='twitter'){if(!/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/.test(e.target.value))copyOfErrors=_objectSpread(_objectSpread({},copyOfErrors),{},_defineProperty({},e.target.name,true));else copyOfErrors=_objectSpread(_objectSpread({},errors),{},_defineProperty({},e.target.name,false));}for(var key in copyOfErrors){if(copyOfErrors[key])noErrors=false;}if(noErrors)setDisabled(false);else setDisabled(true);setErrors(copyOfErrors);setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));}function handleSubmit(){setLoading(true);input.brightness=getBrightness(input.color);var filteredSkills=selectedSkills.map(function(skill){return skill.id;});input.skills=filteredSkills;axios.put(\"/users/\".concat(user.id),input).then(function(res){if(file){var newForm=new FormData();newForm.append('image',file);var config={headers:{'content-type':'multipart/form-data'}};return axios.post(\"/users/\".concat(user.id,\"/profilePic\"),newForm,config);}else{window.location.replace(\"/user/\".concat(user.username));}}).then(function(res){return window.location.replace(\"/user/\".concat(user.username));}).catch(function(err){setError(true);setLoading(false);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:user.color},id:style.mainImage,children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:user.brightness==='bright'?'#fff':'#000'},className:\"font800\",children:\"Edit your profile\"}),/*#__PURE__*/_jsx(\"svg\",{id:style.cover,style:{position:'absolute',top:160},xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 1440 320\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"#f9f9f9\",\"fill-opacity\":\"1\",d:\"M0,192L60,192C120,192,240,192,360,202.7C480,213,600,235,720,224C840,213,960,171,1080,160C1200,149,1320,171,1380,181.3L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z\"})})]}),/*#__PURE__*/_jsxs(\"div\",{id:style.container,children:[!loading&&/*#__PURE__*/_jsxs(\"div\",{id:style.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlex\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font800\",children:[\"@\",user.username]}),user.isPremium&&/*#__PURE__*/_jsx(\"img\",{alt:\"Verification badge\",id:style.verification,src:Verified})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:user.isPremium?'none':'flex'},id:style.GPdiv,children:[/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:\"Verify your FindDevs account and access all the benefits!\"}),/*#__PURE__*/_jsx(GoPremium,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"div\",{id:style.firstDiv,className:\"displayFlex\",children:[/*#__PURE__*/_jsxs(\"div\",{id:style.imageDiv,children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\".concat(preview,\")\")},id:style.profilePic}),/*#__PURE__*/_jsxs(\"label\",{for:style.fileDrop,id:style.logoLabel,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPortrait}),\" Upload Image\"]}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return check(e);},id:style.fileDrop,type:\"file\"}),/*#__PURE__*/_jsx(BlockPicker,{onChange:function onChange(e){return handleInputChange(e);},color:input.color})]}),/*#__PURE__*/_jsxs(\"div\",{id:style.innerFirstDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.inputDiv,children:[/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:\"Your email\"}),/*#__PURE__*/_jsx(\"span\",{id:style.lowEnphasis,children:\"Keep in mind that it will be the one through which startups will contact you.\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",style:{border:errors.email?'2px solid red':'2px solid #e7e7e7'},value:input.email,onChange:function onChange(e){return handleInputChange(e);},className:style.biggerInput}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:style.errors,children:\"Please enter a valid email.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:\"Where are you based?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CountryDropdown,{className:style.dropdown,value:input.country,onChange:function onChange(val){return setInput(_objectSpread(_objectSpread({},input),{},{country:val}));}}),/*#__PURE__*/_jsx(RegionDropdown,{className:style.dropdown,country:input.country,value:input.region,onChange:function onChange(val){return setInput(_objectSpread(_objectSpread({},input),{},{region:val}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.inputDiv,children:[/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:\"Your bio\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:input.description,onChange:function onChange(e){return handleInputChange(e);},maxLength:\"255\",className:style.textarea})]})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"font800\",id:\"giveMargin\",children:\"Social profiles\"}),/*#__PURE__*/_jsxs(\"div\",{id:style.socialDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font800\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGithubSquare}),\" GitHub\"]}),/*#__PURE__*/_jsx(\"input\",{style:{border:errors.gitHub?'2px solid red':'2px solid #e7e7e7'},value:input.gitHub,name:\"gitHub\",onChange:function onChange(e){return handleInputChange(e);},className:style.input}),errors.gitHub&&/*#__PURE__*/_jsx(\"span\",{className:style.errors,children:\"Please enter a valid URL.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font800\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{style:{color:'#0e76a8'},icon:faLinkedin}),\" LinkedIn\"]}),/*#__PURE__*/_jsx(\"input\",{style:{border:errors.linkedIn?'2px solid red':'2px solid #e7e7e7'},value:input.linkedIn,name:\"linkedIn\",onChange:function onChange(e){return handleInputChange(e);},className:style.input}),errors.linkedIn&&/*#__PURE__*/_jsx(\"span\",{className:style.errors,children:\"Please enter a valid URL.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font800\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{style:{color:' #00acee'},icon:faTwitterSquare}),\" Twitter\"]}),/*#__PURE__*/_jsx(\"input\",{style:{border:errors.twitter?'2px solid red':'2px solid #e7e7e7'},value:input.twitter,name:\"twitter\",onChange:function onChange(e){return handleInputChange(e);},className:style.input}),errors.twitter&&/*#__PURE__*/_jsx(\"span\",{className:style.errors,children:\"Please enter a valid URL.\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"font800\",id:\"giveLessMargin\",children:\"Your skills\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsx(\"div\",{id:style.skillDiv,className:\"displayFlex\",children:selectedSkills&&selectedSkills.map(function(skill){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{style:{background:skill.strongColor,color:skill.softColor},name:skill.label,onClick:function onClick(e){return removeSkill(e);},id:style.skillBtn,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimesCircle}),\" \",skill.label]})},skill.id);})}),/*#__PURE__*/_jsx(Hint,{options:skills,children:/*#__PURE__*/_jsx(\"input\",{onKeyDown:function onKeyDown(e){return addSkill(e);},style:{margin:'0px'},className:style.input,placeholder:\"Press enter to add a skill\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:style.btnDiv,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return window.location.replace(\"/user/\".concat(user.username));},style:{background:'black',color:'white'},id:style.btn,children:\"Discard changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:btnDisabled,style:{background:btnDisabled?'gray':user.color,color:user.brightness==='bright'?'#fff':'#000'},id:style.btn,children:\"Save changes\"})]}),error&&/*#__PURE__*/_jsx(Alert,{id:\"giveMargin\",className:\"font800\",color:\"danger\",children:\"Something failed \\u2014 we are sorry!\"})]}),loading&&/*#__PURE__*/_jsx(\"div\",{id:style.form,children:/*#__PURE__*/_jsx(\"img\",{alt:\"Loading GIF\",src:Loading})})]})]});}function mapStateToProps(state){return{user:state.userInfo,skills:state.allSkills};}function mapDispatchToProps(dispatch){return{setUserInfo:function setUserInfo(username){return _setUserInfo(username);}};}export default connect(mapStateToProps,mapDispatchToProps)(EditUser);","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Screens/EditUser/EditUser.jsx"],"names":["React","useLayoutEffect","useState","style","connect","Verified","GoPremium","CountryDropdown","RegionDropdown","CountryRegionData","Hint","Loading","BlockPicker","axios","getBrightness","jwt","setUserInfo","Alert","FontAwesomeIcon","faPortrait","faTimesCircle","faGithubSquare","faLinkedin","faTwitterSquare","EditUser","user","skills","email","color","gitHub","linkedIn","twitter","description","country","region","input","setInput","profilePic","preview","setPreview","selectedSkills","setSelectedSkills","errors","setErrors","file","setFile","btnDisabled","setDisabled","loading","setLoading","error","setError","asyncUseEffect","username","decode","JSON","parse","localStorage","getItem","window","location","replace","check","e","target","files","URL","createObjectURL","addSkill","keyCode","found","find","skill","label","toLowerCase","value","found2","concat","removeSkill","filter","name","handleInputChange","copyOfErrors","noErrors","hex","test","key","handleSubmit","brightness","filteredSkills","map","id","put","then","res","newForm","FormData","append","config","headers","post","catch","err","background","mainImage","cover","position","top","container","form","isPremium","verification","display","GPdiv","firstDiv","imageDiv","backgroundImage","fileDrop","logoLabel","innerFirstDiv","inputDiv","lowEnphasis","border","biggerInput","dropdown","val","textarea","socialDiv","skillDiv","strongColor","softColor","skillBtn","margin","btnDiv","btn","mapStateToProps","state","userInfo","allSkills","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useState } from 'react';\nimport style from './EditUser.module.css';\nimport { connect } from 'react-redux';\nimport Verified from '../../Media/Verification.png';\nimport GoPremium from '../../Components/GoPremiumPopUp/GoPremium';\nimport { CountryDropdown, RegionDropdown, CountryRegionData } from 'react-country-region-selector';\nimport { Hint } from 'react-autocomplete-hint';\nimport Loading from '../../Media/Loading.gif';\nimport { BlockPicker } from 'react-color';\nimport axios from 'axios';\nimport { getBrightness } from '../../utils';\nimport jwt from 'jsonwebtoken';\nimport { setUserInfo } from '../../Actions/index';\nimport { Alert } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPortrait, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faGithubSquare, faLinkedin, faTwitterSquare } from '@fortawesome/free-brands-svg-icons';\n\nfunction EditUser({ user, skills, setUserInfo }) {\n\n    const [input, setInput] = useState({\n        email: user.email,\n        color: user.color,\n        gitHub: user.gitHub,\n        linkedIn: user.linkedIn,\n        twitter: user.twitter,\n        description: user.description,\n        country: user.country,\n        region: user.region\n    });\n    const [preview, setPreview] = useState(user.profilePic);\n    const [selectedSkills, setSelectedSkills] = useState();\n    const [errors, setErrors] = useState({});\n    const [file, setFile] = useState(null);\n    const [btnDisabled, setDisabled] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n\n    async function asyncUseEffect(username) {\n        await (setUserInfo(username));\n    }\n\n    useLayoutEffect(() => {\n        if (!user.username) {\n            const user = jwt.decode(JSON.parse(localStorage.getItem('user')))\n            if (user) {\n                asyncUseEffect(user.username);\n            } else window.location.replace('/error');\n        }\n        setPreview(user.profilePic);\n        setInput({\n            email: user.email,\n            color: user.color,\n            gitHub: user.gitHub,\n            linkedIn: user.linkedIn,\n            twitter: user.twitter,\n            description: user.description,\n            country: user.country,\n            region: user.region\n        })\n        setSelectedSkills(user.skills);\n        setLoading(false)\n    }, [user])\n\n    function check(e) {\n        setFile(e.target.files[0]);\n        setPreview(URL.createObjectURL(e.target.files[0]));\n    }\n\n    function addSkill(e) {\n        if (e.keyCode === 13) {\n            var found = skills.find(skill => skill.label.toLowerCase() === e.target.value.toLowerCase());\n            var found2 = selectedSkills.find(skill => skill.label.toLowerCase() === e.target.value.toLowerCase());\n            if (found && !found2) {\n                setSelectedSkills(selectedSkills.concat(found));\n                e.target.value = '';\n            }\n        }\n    }\n\n    function removeSkill(e) {\n        setSelectedSkills(selectedSkills.filter(skill => skill.label !== e.target.name))\n    }\n\n    function handleInputChange(e) {\n        var copyOfErrors = errors;\n        var noErrors = true;\n        if (e.hex) return setInput({ ...input, color: e.hex });\n        if (e.target.name === 'email') {\n            if (!/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g.test(e.target.value)) copyOfErrors = { ...copyOfErrors, email: true };\n            else copyOfErrors = { ...copyOfErrors, email: false };\n        }\n        if (e.target.name === 'gitHub' || e.target.name === 'linkedIn' || e.target.name === 'twitter') {\n            if (!/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/.test(e.target.value)) copyOfErrors = { ...copyOfErrors, [e.target.name]: true };\n            else copyOfErrors = { ...errors, [e.target.name]: false };\n        }\n\n        for (const key in copyOfErrors) if (copyOfErrors[key]) noErrors = false;\n\n        if (noErrors) setDisabled(false);\n        else setDisabled(true);\n\n        setErrors(copyOfErrors);\n\n        setInput({ ...input, [e.target.name]: e.target.value })\n    }\n\n    function handleSubmit() {\n        setLoading(true);\n        input.brightness = getBrightness(input.color);\n        const filteredSkills = selectedSkills.map(skill => skill.id);\n        input.skills = filteredSkills;\n        axios.put(`/users/${user.id}`, input)\n            .then(res => {\n                if (file) {\n                    const newForm = new FormData();\n                    newForm.append('image', file);\n                    const config = {\n                        headers: {\n                            'content-type': 'multipart/form-data'\n                        }\n                    };\n                    return axios.post(`/users/${user.id}/profilePic`, newForm, config);\n                } else {\n                    window.location.replace(`/user/${user.username}`)\n                }\n            })\n            .then(res => window.location.replace(`/user/${user.username}`))\n            .catch(err => {\n                setError(true);\n                setLoading(false);\n            })\n    }\n\n    return (\n        <div className='displayFlexColumn' id='alignItemsCenter'>\n            <div style={{ background: user.color }} id={style.mainImage}>\n                <h1 style={{ color: user.brightness === 'bright' ? '#fff' : '#000' }} className='font800'>Edit your profile</h1>\n                <svg id={style.cover} style={{ position: 'absolute', top: 160 }} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n                    <path fill=\"#f9f9f9\" fill-opacity=\"1\" d=\"M0,192L60,192C120,192,240,192,360,202.7C480,213,600,235,720,224C840,213,960,171,1080,160C1200,149,1320,171,1380,181.3L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z\"></path>\n                </svg>\n            </div>\n            <div id={style.container}>\n                {!loading && <div id={style.form}>\n                    <div className='displayFlex' id='alignItemsCenter'>\n                        <h2 className='font800'>@{user.username}</h2>\n                        {user.isPremium && <img alt=\"Verification badge\" id={style.verification} src={Verified} />}\n                    </div>\n                    <div style={{ display: user.isPremium ? 'none' : 'flex' }} id={style.GPdiv}>\n                        <span className='font800'>Verify your FindDevs account and access all the benefits!</span>\n                        <GoPremium />\n                    </div>\n                    <div className='displayFlexColumn' id='alignItemsCenter'>\n                        <div id={style.firstDiv} className='displayFlex'>\n                            <div id={style.imageDiv}>\n                                <div style={{ backgroundImage: `url(${preview})` }} id={style.profilePic}></div>\n                                <label for={style.fileDrop} id={style.logoLabel}><FontAwesomeIcon icon={faPortrait} /> Upload Image</label>\n                                <input onChange={(e) => check(e)} id={style.fileDrop} type='file' />\n                                <BlockPicker onChange={(e) => handleInputChange(e)} color={input.color} />\n                            </div>\n                            <div id={style.innerFirstDiv}>\n                                <div className={style.inputDiv}>\n                                    <span className='font800'>Your email</span>\n                                    <span id={style.lowEnphasis}>Keep in mind that it will be the one through which startups will contact you.</span>\n                                    <input name='email' style={{ border: errors.email ? '2px solid red' : '2px solid #e7e7e7' }} value={input.email} onChange={(e) => handleInputChange(e)} className={style.biggerInput}></input>\n                                    {errors.email && <span className={style.errors}>Please enter a valid email.</span>}\n                                </div>\n                                <div>\n                                    <span className='font800'>Where are you based?</span>\n                                    <div>\n                                        <CountryDropdown className={style.dropdown} value={input.country} onChange={(val) => setInput({ ...input, country: val })} />\n                                        <RegionDropdown className={style.dropdown} country={input.country} value={input.region} onChange={(val) => setInput({ ...input, region: val })} />\n                                    </div>\n                                </div>\n                                <div className={style.inputDiv}>\n                                    <span className='font800'>Your bio</span>\n                                    <textarea name='description' value={input.description} onChange={(e) => handleInputChange(e)} maxLength='255' className={style.textarea}></textarea>\n                                </div>\n                            </div>\n                        </div>\n                        <h3 className='font800' id='giveMargin'>Social profiles</h3>\n                        <div id={style.socialDiv}>\n                            <div className='displayFlexColumn' id='alignItemsCenter'>\n                                <span className='font800'><FontAwesomeIcon icon={faGithubSquare} /> GitHub</span>\n                                <input style={{ border: errors.gitHub ? '2px solid red' : '2px solid #e7e7e7' }} value={input.gitHub} name='gitHub' onChange={(e) => handleInputChange(e)} className={style.input} />\n                                {errors.gitHub && <span className={style.errors}>Please enter a valid URL.</span>}\n                            </div>\n                            <div className='displayFlexColumn' id='alignItemsCenter'>\n                                <span className='font800'><FontAwesomeIcon style={{ color: '#0e76a8' }} icon={faLinkedin} /> LinkedIn</span>\n                                <input style={{ border: errors.linkedIn ? '2px solid red' : '2px solid #e7e7e7' }} value={input.linkedIn} name='linkedIn' onChange={(e) => handleInputChange(e)} className={style.input} />\n                                {errors.linkedIn && <span className={style.errors}>Please enter a valid URL.</span>}\n                            </div>\n                            <div className='displayFlexColumn' id='alignItemsCenter'>\n                                <span className='font800'><FontAwesomeIcon style={{ color: ' #00acee' }} icon={faTwitterSquare} /> Twitter</span>\n                                <input style={{ border: errors.twitter ? '2px solid red' : '2px solid #e7e7e7' }} value={input.twitter} name='twitter' onChange={(e) => handleInputChange(e)} className={style.input} />\n                                {errors.twitter && <span className={style.errors}>Please enter a valid URL.</span>}\n                            </div>\n                        </div>\n                        <h3 className='font800' id='giveLessMargin'>Your skills</h3>\n                        <div className='displayFlexColumn' id='alignItemsCenter'>\n                            <div id={style.skillDiv} className='displayFlex'>\n                                {selectedSkills && selectedSkills.map(skill =>\n                                    <div key={skill.id}>\n                                        <button style={{ background: skill.strongColor, color: skill.softColor }} name={skill.label} onClick={(e) => removeSkill(e)} id={style.skillBtn}><FontAwesomeIcon icon={faTimesCircle} /> {skill.label}</button>\n                                    </div>\n                                )}\n                            </div>\n                            <Hint options={skills}>\n                                <input onKeyDown={(e) => addSkill(e)} style={{ margin: '0px' }} className={style.input} placeholder='Press enter to add a skill' />\n                            </Hint>\n                        </div>\n                    </div>\n                    <div id={style.btnDiv}>\n                        <button onClick={() => window.location.replace(`/user/${user.username}`)} style={{ background: 'black', color: 'white' }} id={style.btn}>Discard changes</button>\n                        <button onClick={handleSubmit} disabled={btnDisabled} style={{ background: btnDisabled ? 'gray' : user.color, color: user.brightness === 'bright' ? '#fff' : '#000' }} id={style.btn}>Save changes</button>\n                    </div>\n                    {error && <Alert id='giveMargin' className='font800' color=\"danger\">\n                        Something failed â€” we are sorry!\n                    </Alert>}\n                </div>}\n                {loading &&\n                    <div id={style.form}>\n                        <img alt=\"Loading GIF\" src={Loading} />\n                    </div>}\n            </div>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userInfo,\n        skills: state.allSkills\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        setUserInfo: username => setUserInfo(username)\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditUser);"]},"metadata":{},"sourceType":"module"}