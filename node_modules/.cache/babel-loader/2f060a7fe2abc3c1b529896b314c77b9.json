{"ast":null,"code":"import _slicedToArray from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Popup from'reactjs-popup';import style from'./ApplicantsPopUp.module.css';import axios from'axios';import{Link}from'react-router-dom';import{connect}from'react-redux';import ChangeRole from'./ChangeRole';import{CopyToClipboard}from'react-copy-to-clipboard';import{Alert}from'reactstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimes,faUsers,faCheckCircle,faTimesCircle}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MembersPopUp(_ref){var projectID=_ref.projectID,userInfo=_ref.userInfo,brightness=_ref.brightness,isFounder=_ref.isFounder;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),project=_useState2[0],setProject=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),changeRole=_useState4[0],setChangeRole=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),copied=_useState6[0],setCopied=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fire=_useState8[0],setFire=_useState8[1];useEffect(function(){axios.get(\"/projects/\".concat(projectID)).then(function(projectData){return setProject(projectData.data);}).catch(function(err){return console.log(err);});},[]);function copiedFunction(){setCopied(true);setTimeout(function(){setCopied(false);},3000);}function fireUser(userID){axios.delete(\"/projects/\".concat(projectID,\"/\").concat(userID,\"/fire\")).then(function(res){return window.location.reload();}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsx(\"div\",{style:{color:brightness==='bright'?'#fff':'#000',border:brightness==='bright'?'2px solid #fff':'2px solid #000'},className:style.redirectDiv,children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUsers}),\" Members\"]})}),modal:true,children:function children(close){return/*#__PURE__*/_jsxs(\"div\",{id:style.mainDiv,children:[!changeRole?/*#__PURE__*/_jsxs(\"div\",{id:style.memberForm,children:[/*#__PURE__*/_jsx(\"button\",{id:style.closeBtn,onClick:close,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"font200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:project.name}),\" members\"]}),/*#__PURE__*/_jsx(\"div\",{id:style.topApplicantDiv,children:project.users&&project.users.map(function(user){return user.userXprojects.endDate===null&&/*#__PURE__*/_jsxs(\"div\",{id:style.applicantDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlex\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsx(\"div\",{id:style.profilePic}),/*#__PURE__*/_jsxs(\"div\",{id:style.memberInfo,children:[/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:\"@ \".concat(user.username)}),/*#__PURE__*/_jsx(\"span\",{className:\"font200\",children:user.userXprojects.role})]})]}),user.username!==userInfo.username&&/*#__PURE__*/_jsxs(\"div\",{id:style.socialMediaDiv2,children:[isFounder&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setChangeRole(user);},id:style.btn,children:\"CHANGE ROLE\"}),/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(user.username,\"?verify\"),children:/*#__PURE__*/_jsx(\"button\",{id:style.btn,children:\"VALIDATE\"})}),/*#__PURE__*/_jsx(CopyToClipboard,{text:user.email,children:/*#__PURE__*/_jsx(\"button\",{id:style.btn,onClick:copiedFunction,children:\"CONTACT\"})}),isFounder&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setFire(user);},id:style.btn,children:\"FIRE\"})]})]},user.id);})})]}):/*#__PURE__*/_jsx(ChangeRole,{userData:changeRole,setChangeRole:setChangeRole,projectName:project.name}),copied&&/*#__PURE__*/_jsx(Alert,{id:style.copiedAlert,color:\"success\",children:\"Copied user's contact email to clipboard!\"}),fire&&/*#__PURE__*/_jsxs(Alert,{id:style.copiedAlert,color:\"danger\",children:[\"Are you sure you want to fire \",fire.username,\"?\",/*#__PURE__*/_jsx(\"button\",{className:style.actionBtn,onClick:function onClick(){return fireUser(fire.id);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setFire(false);},className:style.actionBtn,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimesCircle})})]})]});}});}function mapDispatchToProps(state){return{userInfo:state.userInfo};}export default connect(mapDispatchToProps,null)(MembersPopUp);","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Components/ApplicantsPopUp/MembersPopUp.jsx"],"names":["React","useEffect","useState","Popup","style","axios","Link","connect","ChangeRole","CopyToClipboard","Alert","FontAwesomeIcon","faTimes","faUsers","faCheckCircle","faTimesCircle","MembersPopUp","projectID","userInfo","brightness","isFounder","project","setProject","changeRole","setChangeRole","copied","setCopied","fire","setFire","get","then","projectData","data","catch","err","console","log","copiedFunction","setTimeout","fireUser","userID","delete","res","window","location","reload","color","border","redirectDiv","close","mainDiv","memberForm","closeBtn","name","topApplicantDiv","users","map","user","userXprojects","endDate","applicantDiv","profilePic","memberInfo","username","role","socialMediaDiv2","btn","email","id","copiedAlert","actionBtn","mapDispatchToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Popup from 'reactjs-popup';\nimport style from './ApplicantsPopUp.module.css';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ChangeRole from './ChangeRole';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Alert } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faUsers, faCheckCircle, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n\nfunction MembersPopUp({ projectID, userInfo, brightness, isFounder }) {\n\n    const [project, setProject] = useState({});\n    const [changeRole, setChangeRole] = useState(false);\n    const [copied, setCopied] = useState(false);\n    const [fire, setFire] = useState(false);\n\n    useEffect(() => {\n        axios.get(`/projects/${projectID}`)\n            .then(projectData => setProject(projectData.data))\n            .catch(err => console.log(err))\n    }, [])\n\n    function copiedFunction() {\n        setCopied(true);\n        setTimeout(() => {\n            setCopied(false);\n        }, 3000)\n    }\n\n    function fireUser(userID) {\n        axios.delete(`/projects/${projectID}/${userID}/fire`)\n            .then(res => window.location.reload())\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <Popup trigger={\n            <div style={{ color: brightness === 'bright' ? '#fff' : '#000', border: brightness === 'bright' ? '2px solid #fff' : '2px solid #000' }} className={style.redirectDiv}>\n                <span><FontAwesomeIcon icon={faUsers} /> Members</span>\n            </div>}\n            modal>\n            {close => (\n                <div id={style.mainDiv}>\n                    {!changeRole ?\n                        <div id={style.memberForm}>\n                            <button id={style.closeBtn} onClick={close}><FontAwesomeIcon icon={faTimes} /></button>\n                            <h1 className='font200'><span className='font800'>{project.name}</span> members</h1>\n                            <div id={style.topApplicantDiv}>\n                                {project.users && project.users.map(user =>\n                                    user.userXprojects.endDate === null &&\n                                    <div key={user.id} id={style.applicantDiv}>\n                                        <div className='displayFlex' id='alignItemsCenter'>\n                                            <div id={style.profilePic}></div>\n                                            <div id={style.memberInfo}>\n                                                <span className='font800'>{`@ ${user.username}`}</span>\n                                                <span className='font200'>{user.userXprojects.role}</span>\n                                            </div>\n                                        </div>\n                                        {user.username !== userInfo.username &&\n                                            <div id={style.socialMediaDiv2}>\n                                                {isFounder && <button onClick={() => setChangeRole(user)} id={style.btn}>CHANGE ROLE</button>}\n                                                <Link to={`/user/${user.username}?verify`}><button id={style.btn}>VALIDATE</button></Link>\n                                                <CopyToClipboard text={user.email}><button id={style.btn} onClick={copiedFunction} >CONTACT</button></CopyToClipboard>\n                                                {isFounder && <button onClick={() => setFire(user)} id={style.btn}>FIRE</button>}\n                                            </div>}\n                                    </div>\n                                )}\n                            </div>\n                        </div> :\n                        <ChangeRole userData={changeRole} setChangeRole={setChangeRole} projectName={project.name} />}\n                    {copied && <Alert id={style.copiedAlert} color=\"success\">Copied user's contact email to clipboard!</Alert>}\n                    {fire &&\n                        <Alert id={style.copiedAlert} color=\"danger\">\n                            Are you sure you want to fire {fire.username}?\n                            <button className={style.actionBtn} onClick={() => fireUser(fire.id)}><FontAwesomeIcon icon={faCheckCircle} /></button>\n                            <button onClick={() => setFire(false)} className={style.actionBtn}><FontAwesomeIcon icon={faTimesCircle} /></button>\n                        </Alert>}\n                </div>\n            )}\n        </Popup>\n    )\n}\n\nfunction mapDispatchToProps(state) {\n    return {\n        userInfo: state.userInfo\n    }\n}\n\nexport default connect(mapDispatchToProps, null)(MembersPopUp);"]},"metadata":{},"sourceType":"module"}