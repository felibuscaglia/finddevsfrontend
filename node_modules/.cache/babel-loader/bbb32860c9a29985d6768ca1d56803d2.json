{"ast":null,"code":"import _objectSpread from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Popup from'reactjs-popup';import style from'./HirePopUp.module.css';import axios from'axios';import{connect}from'react-redux';import JobCard from'./JobCard';import Empty from\"../../Media/hiring.svg\";import{Link}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheckCircle,faTimes}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HirePopUp(_ref){var color=_ref.color,applicantUsername=_ref.applicantUsername,user=_ref.user,applicantsNotifications=_ref.applicantsNotifications;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),screen=_useState2[0],setScreen=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selection=_useState4[0],setSelection=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),jobs=_useState6[0],setJobs=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selectionUsers=_useState8[0],setSelectionUsers=_useState8[1];function getInfoAndSetProject(project){axios.get(\"/projects/\".concat(project.id)).then(function(jobsData){setJobs(jobsData.data.jobOpportunities);setSelectionUsers(jobsData.data.users);setSelection(_objectSpread(_objectSpread({},selection),{},{project:project}));}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:color,border:\"2px solid \".concat(color)},id:style.hireBtn,children:\"HIRE\"}),modal:true,children:function children(close){return/*#__PURE__*/_jsx(\"div\",{id:style.mainDiv,children:/*#__PURE__*/_jsxs(\"div\",{id:style.form,children:[/*#__PURE__*/_jsx(\"button\",{id:style.closeBtn,onClick:close,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})}),screen&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font800\",children:\"Select a project\"}),/*#__PURE__*/_jsx(\"div\",{className:\"justifyCenter\",id:\"flexWrap\",children:user.projects&&user.projects.map(function(project){return project.userXprojects.isFounder?/*#__PURE__*/_jsxs(\"div\",{style:{background:selection.project&&selection.project.name===project.name?'rgb(231,231,231':null},onClick:function onClick(){return getInfoAndSetProject(project);},id:style.projectDiv,children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Project logo\",id:\"icon\",src:project.logo}),/*#__PURE__*/_jsx(\"span\",{id:style.projectName,className:\"font200\",children:project.name})]},project.id):null;})})]}),!screen&&!selectionUsers.find(function(user){return user.username===applicantUsername;})&&/*#__PURE__*/_jsxs(\"div\",{style:{width:'80%'},children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"font800\",children:[\"Jobs at \",selection.project.name]}),/*#__PURE__*/_jsx(\"div\",{id:style.jobContainer,children:jobs.length>0?jobs.map(function(job){return applicantsNotifications.find(function(notification){return notification.jobId===job.id;})?/*#__PURE__*/_jsx(JobCard,{alreadyInvited:true,close:close,user:user,applicantUsername:applicantUsername,project:selection,job:job},job.id):/*#__PURE__*/_jsx(JobCard,{close:close,user:user,applicantUsername:applicantUsername,project:selection,job:job},job.id);}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"No jobs are posted for this project.\",id:style.emptyIcon,src:Empty}),/*#__PURE__*/_jsx(Link,{to:\"/project/addJob/\".concat(selection.project.id),children:/*#__PURE__*/_jsx(\"button\",{id:style.postBtn,style:{background:selection.project.mainColor,color:selection.project.brightness==='bright'?'#fff':'#000'},children:\"Post a job\"})})]})})]}),!screen&&selectionUsers.find(function(user){return user.username===applicantUsername;})&&/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{id:style.accepted,icon:faCheckCircle}),/*#__PURE__*/_jsxs(\"h1\",{className:\"font800\",children:[applicantUsername,\" is already part of \",selection.project.name,\"!\"]})]}),/*#__PURE__*/_jsx(\"button\",{disabled:!selection.project,onClick:function onClick(){return setScreen(!screen);},style:{alignSelf:'flex-end',backgroundColor:!selection.project?'rgb(231,231,231)':color,border:!selection.project?'2px solid rgb(231,231,231)':\"2px solid \".concat(color)},id:style.btn,children:screen?'NEXT':'BACK'})]})});}});}function mapStateToProps(state){return{user:state.userInfo};}export default connect(mapStateToProps,null)(HirePopUp);","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Components/HirePopUp/HirePopUp.jsx"],"names":["React","useState","Popup","style","axios","connect","JobCard","Link","FontAwesomeIcon","faCheckCircle","faTimes","HirePopUp","color","applicantUsername","user","applicantsNotifications","screen","setScreen","selection","setSelection","jobs","setJobs","selectionUsers","setSelectionUsers","getInfoAndSetProject","project","get","id","then","jobsData","data","jobOpportunities","users","catch","err","console","log","backgroundColor","border","hireBtn","close","mainDiv","form","closeBtn","projects","map","userXprojects","isFounder","background","name","projectDiv","logo","projectName","find","username","width","jobContainer","length","job","notification","jobId","emptyIcon","Empty","postBtn","mainColor","brightness","accepted","alignSelf","btn","mapStateToProps","state","userInfo"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Popup from 'reactjs-popup';\nimport style from './HirePopUp.module.css';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport JobCard from './JobCard';\nimport Empty from '../../Media/hiring.svg';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nfunction HirePopUp({ color, applicantUsername, user, applicantsNotifications }) {\n\n    const [screen, setScreen] = useState(true);\n    const [selection, setSelection] = useState({});\n    const [jobs, setJobs] = useState([]);\n    const [selectionUsers, setSelectionUsers] = useState([]);\n\n    function getInfoAndSetProject(project) {\n        axios.get(`/projects/${project.id}`)\n            .then(jobsData => {\n                setJobs(jobsData.data.jobOpportunities);\n                setSelectionUsers(jobsData.data.users);\n                setSelection({ ...selection, project: project })\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <Popup trigger={<button style={{ backgroundColor: color, border: `2px solid ${color}` }} id={style.hireBtn}>HIRE</button>} modal>\n            {close => (\n                <div id={style.mainDiv}>\n                    <div id={style.form}>\n                        <button id={style.closeBtn} onClick={close}><FontAwesomeIcon icon={faTimes} /></button>\n                        {screen &&\n                            <div>\n                                <h1 className='font800'>Select a project</h1>\n                                <div className='justifyCenter' id='flexWrap'>\n                                    {user.projects && user.projects.map(project =>\n                                        project.userXprojects.isFounder ?\n                                            <div key={project.id} style={{ background: selection.project && selection.project.name === project.name ? 'rgb(231,231,231' : null }} onClick={() => getInfoAndSetProject(project)} id={style.projectDiv}>\n                                                <img alt=\"Project logo\" id='icon' src={project.logo} />\n                                                <span id={style.projectName} className='font200'>{project.name}</span>\n                                            </div>\n                                            : null\n                                    )}\n                                </div>\n                            </div>}\n                        {!screen && !selectionUsers.find(user => user.username === applicantUsername) &&\n                            <div style={{ width: '80%' }}>\n                                <h1 className='font800'>Jobs at {selection.project.name}</h1>\n                                <div id={style.jobContainer}>\n                                    {jobs.length > 0 ?\n                                        jobs.map(job => \n                                            applicantsNotifications.find (notification => notification.jobId === job.id) ?\n                                            <JobCard alreadyInvited={true} key={job.id} close={close} user={user} applicantUsername={applicantUsername} project={selection} job={job} />\n                                            : <JobCard key={job.id} close={close} user={user} applicantUsername={applicantUsername} project={selection} job={job} />\n                                        )\n                                        :\n                                        <div>\n                                            <img alt=\"No jobs are posted for this project.\" id={style.emptyIcon} src={Empty} />\n                                            <Link to={`/project/addJob/${selection.project.id}`}><button id={style.postBtn} style={{ background: selection.project.mainColor, color: selection.project.brightness === 'bright' ? '#fff' : '#000' }}>Post a job</button></Link>\n                                        </div>}\n                                </div>\n                            </div>\n                        }\n                        {!screen && selectionUsers.find(user => user.username === applicantUsername) &&\n                            <div className='displayFlexColumn' id='alignItemsCenter'>\n                                <FontAwesomeIcon id={style.accepted} icon={faCheckCircle} />\n                                <h1 className='font800'>{applicantUsername} is already part of {selection.project.name}!</h1>\n                            </div>}\n                        <button disabled={!selection.project} onClick={() => setScreen(!screen)} style={{ alignSelf: 'flex-end', backgroundColor: !selection.project ? 'rgb(231,231,231)' : color, border: !selection.project ? '2px solid rgb(231,231,231)' : `2px solid ${color}` }} id={style.btn}>{screen ? 'NEXT' : 'BACK'}</button>\n                    </div>\n                </div>\n            )}\n        </Popup>\n    )\n}\n\n\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userInfo\n    }\n}\n\nexport default connect(mapStateToProps, null)(HirePopUp);"]},"metadata":{},"sourceType":"module"}