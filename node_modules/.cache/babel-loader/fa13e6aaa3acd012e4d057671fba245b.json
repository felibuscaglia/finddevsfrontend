{"ast":null,"code":"import _slicedToArray from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import style from'./ApplicantsPopUp.module.css';import axios from'axios';import{Link}from'react-router-dom';import Loading from'../../Media/Loading.gif';import Empty from\"../../Media/JobApplicants.svg\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimes,faCheckCircle,faAddressCard,faTimesCircle}from'@fortawesome/free-solid-svg-icons';import{faGithubSquare,faLinkedin,faTwitterSquare}from'@fortawesome/free-brands-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ApplicantsList(_ref){var job=_ref.job,projectName=_ref.projectName,applicants=_ref.applicants,close=_ref.close,setDecided=_ref.setDecided,setApplicants=_ref.setApplicants,projectLogo=_ref.projectLogo;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];function acceptApplicant(applicantName){var message=\"\\uD83C\\uDF89 You are now part of \".concat(projectName,\"! \\uD83C\\uDF89\");setLoading(true);axios.post(\"/users/\".concat(applicantName,\"/project/\").concat(job.projectId),{jobTitle:job.title}).then(function(res){return axios.post(\"/users/\".concat(applicantName,\"/notifications\"),{content:message,type:'Acceptance',projectId:job.projectId,projectLogo:projectLogo});}).then(function(res){return axios.delete(\"/jobs/\".concat(job.id));}).then(function(res){setLoading(false);setDecided(applicantName);setTimeout(function(){close();window.location.reload();},3000);}).catch(function(err){return console.log(err);});}function rejectApplicant(applicantName){axios.delete(\"/jobs/\".concat(job.id,\"/applicants\"),{data:{username:applicantName}}).then(function(res){var filteredApplicants=applicants.filter(function(applicant){return applicant.username!==applicantName;});setApplicants(filteredApplicants);}).catch(function(err){return console.log(err);});}return!loading?/*#__PURE__*/_jsxs(\"div\",{id:style.form,children:[/*#__PURE__*/_jsx(\"button\",{id:style.closeBtn,onClick:close,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})}),/*#__PURE__*/_jsx(\"h1\",{className:\"font200\",children:job.title}),/*#__PURE__*/_jsx(\"div\",{className:\"displayFlex\",children:job.skills.map(function(skill){return/*#__PURE__*/_jsx(\"span\",{style:{background:skill.strongColor,color:skill.softColor},className:style.requirement,children:skill.label},skill.id);})}),/*#__PURE__*/_jsx(\"div\",{id:style.topApplicantDiv,children:applicants.map(function(applicant){return/*#__PURE__*/_jsxs(\"div\",{id:style.applicantDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlex\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsx(\"div\",{id:style.profilePic}),/*#__PURE__*/_jsx(\"span\",{id:style.username,children:\"@ \".concat(applicant.username)}),/*#__PURE__*/_jsx(\"button\",{style:{color:'green'},onClick:function onClick(){return acceptApplicant(applicant.username);},className:style.dropdownBtn,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle})}),/*#__PURE__*/_jsx(\"button\",{style:{color:'red'},onClick:function onClick(){return rejectApplicant(applicant.username);},className:style.dropdownBtn,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimesCircle})})]}),/*#__PURE__*/_jsxs(\"div\",{id:style.socialMediaDiv,children:[/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(applicant.username),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{style:{color:applicant.color},icon:faAddressCard})}),applicant.gitHub&&/*#__PURE__*/_jsx(\"a\",{target:\"blank\",rel:\"noreferrer\",href:applicant.gitHub,style:{textDecoration:'none',color:applicant.color},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGithubSquare})}),applicant.linkedIn&&/*#__PURE__*/_jsx(\"a\",{target:\"blank\",rel:\"noreferrer\",href:applicant.linkedIn,style:{textDecoration:'none',color:applicant.color},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faLinkedin})}),applicant.twitter&&/*#__PURE__*/_jsx(\"a\",{target:\"blank\",rel:\"noreferrer\",href:applicant.twitter,style:{textDecoration:'none',color:applicant.color},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTwitterSquare})})]})]},applicant.id);})}),applicants.length===0&&/*#__PURE__*/_jsxs(\"div\",{id:style.emptyDiv,children:[/*#__PURE__*/_jsx(\"img\",{alt:\"No developers have applied to this job.\",id:style.empty,src:Empty}),/*#__PURE__*/_jsx(Link,{to:\"/workers\",children:/*#__PURE__*/_jsx(\"button\",{id:\"btn\",style:{background:'black'},children:\"Search for developers\"})})]})]}):/*#__PURE__*/_jsx(\"div\",{id:style.form,children:/*#__PURE__*/_jsx(\"img\",{alt:\"Loading GIF\",id:\"icon\",src:Loading})});}export default ApplicantsList;","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Components/ApplicantsPopUp/ApplicantsList.jsx"],"names":["React","useState","style","axios","Link","Loading","FontAwesomeIcon","faTimes","faCheckCircle","faAddressCard","faTimesCircle","faGithubSquare","faLinkedin","faTwitterSquare","ApplicantsList","job","projectName","applicants","close","setDecided","setApplicants","projectLogo","loading","setLoading","acceptApplicant","applicantName","message","post","projectId","jobTitle","title","then","res","content","type","delete","id","setTimeout","window","location","reload","catch","err","console","log","rejectApplicant","data","username","filteredApplicants","filter","applicant","form","closeBtn","skills","map","skill","background","strongColor","color","softColor","requirement","label","topApplicantDiv","applicantDiv","profilePic","dropdownBtn","socialMediaDiv","gitHub","textDecoration","linkedIn","twitter","length","emptyDiv","empty","Empty"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport style from './ApplicantsPopUp.module.css';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Loading from '../../Media/Loading.gif';\nimport Empty from '../../Media/JobApplicants.svg';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faCheckCircle, faAddressCard, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faGithubSquare, faLinkedin, faTwitterSquare } from '@fortawesome/free-brands-svg-icons';\n\nfunction ApplicantsList({ job, projectName, applicants, close, setDecided, setApplicants, projectLogo }) {\n\n    const [loading, setLoading] = useState(false);\n\n    function acceptApplicant(applicantName) {\n        var message = `🎉 You are now part of ${projectName}! 🎉`;\n        setLoading(true);\n\n        axios.post(`/users/${applicantName}/project/${job.projectId}`, { jobTitle: job.title })\n            .then(res => {\n                return axios.post(`/users/${applicantName}/notifications`, { content: message, type: 'Acceptance', projectId: job.projectId, projectLogo: projectLogo })\n            })\n            .then(res => axios.delete(`/jobs/${job.id}`))\n            .then(res => {\n                setLoading(false);\n                setDecided(applicantName);\n                setTimeout(() => {\n                    close()\n                    window.location.reload()\n                }, 3000);\n            })\n            .catch(err => console.log(err))\n    }\n\n    function rejectApplicant(applicantName) {\n        axios.delete(`/jobs/${job.id}/applicants`, { data: { username: applicantName }})\n            .then(res => {\n                const filteredApplicants = applicants.filter(applicant => applicant.username !== applicantName);\n                setApplicants(filteredApplicants);\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        !loading ?\n            <div id={style.form}>\n                <button id={style.closeBtn} onClick={close}><FontAwesomeIcon icon={faTimes} /></button>\n                <h1 className='font200'>{job.title}</h1>\n                <div className='displayFlex'>\n                    {job.skills.map(skill =>\n                        <span key={skill.id} style={{ background: skill.strongColor, color: skill.softColor }} className={style.requirement}>{skill.label}</span>\n                    )}\n                </div>\n                <div id={style.topApplicantDiv}>\n                    {applicants.map(applicant =>\n                        <div key={applicant.id} id={style.applicantDiv}>\n                            <div className='displayFlex' id='alignItemsCenter'>\n                                <div id={style.profilePic}></div>\n                                <span id={style.username}>{`@ ${applicant.username}`}</span>\n                                <button style={{ color: 'green' }} onClick={() => acceptApplicant(applicant.username)} className={style.dropdownBtn}><FontAwesomeIcon icon={faCheckCircle} /></button>\n                                <button style={{ color: 'red' }} onClick={() => rejectApplicant(applicant.username)} className={style.dropdownBtn}><FontAwesomeIcon icon={faTimesCircle} /></button>\n                            </div>\n                            <div id={style.socialMediaDiv}>\n                                <Link to={`/user/${applicant.username}`}><FontAwesomeIcon style={{ color: applicant.color }} icon={faAddressCard} /></Link>\n                                {applicant.gitHub && <a target='blank' rel=\"noreferrer\" href={applicant.gitHub} style={{ textDecoration: 'none', color: applicant.color }}><FontAwesomeIcon icon={faGithubSquare} /></a>}\n                                {applicant.linkedIn && <a target='blank' rel=\"noreferrer\" href={applicant.linkedIn} style={{ textDecoration: 'none', color: applicant.color }}><FontAwesomeIcon icon={faLinkedin} /></a>}\n                                {applicant.twitter && <a target='blank' rel=\"noreferrer\" href={applicant.twitter} style={{ textDecoration: 'none', color: applicant.color }}><FontAwesomeIcon icon={faTwitterSquare} /></a>}\n                            </div>\n                        </div>\n                    )}\n                </div>\n                {applicants.length === 0 && \n                <div id={style.emptyDiv}>\n                    <img alt='No developers have applied to this job.' id={style.empty} src={Empty} />\n                    <Link to='/workers'><button id='btn' style={{ background: 'black' }}>Search for developers</button></Link>\n                </div>}\n            </div> :\n            <div id={style.form}>\n                <img alt='Loading GIF' id='icon' src={Loading} />\n            </div>\n    )\n}\n\nexport default ApplicantsList;"]},"metadata":{},"sourceType":"module"}