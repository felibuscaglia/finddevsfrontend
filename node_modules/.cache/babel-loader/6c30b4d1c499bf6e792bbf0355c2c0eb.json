{"ast":null,"code":"import _defineProperty from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import style from'./PopUpStyle.module.css';import Popup from'reactjs-popup';import axios from'axios';import randomColor from'randomcolor';import{getBrightness}from'../../utils';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimes}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPopUp(_ref){var isHomepage=_ref.isHomepage,isMain=_ref.isMain,isMainHomepage=_ref.isMainHomepage,isJobProfile=_ref.isJobProfile;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showPass=_useState4[0],setShowPass=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),disabled=_useState8[0],setDisabled=_useState8[1];function handleInputChange(e){if(e.target.name==='email'){if(!/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g.test(e.target.value)){setErrors(_objectSpread(_objectSpread({},errors),{},{email:'Please enter a valid email.'}));setDisabled(true);}else{setErrors(_objectSpread(_objectSpread({},errors),{},{email:false}));setDisabled(false);}}if(e.target.name==='username'&&errors.username){setErrors(_objectSpread(_objectSpread({},errors),{},{username:false}));setDisabled(false);}setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));}function handleSubmit(){input.color=randomColor();input.brightness=getBrightness(input.color);input.profilePic='https://iupac.org/wp-content/uploads/2018/05/default-avatar.png';axios.post('/auth/register',input).then(function(res){localStorage.setItem('user',JSON.stringify(res.data));window.location.replace('/edit/user/me');}).catch(function(err){setErrors(_objectSpread(_objectSpread({},errors),{},{username:'Username already taken',email:'A user with this email already exists.'}));setDisabled(true);});}function closePopUp(close){setErrors({});setDisabled(false);setInput({});close();}return/*#__PURE__*/_jsx(Popup,{trigger:isJobProfile?/*#__PURE__*/_jsx(\"button\",{id:style.applyBtn,children:\"Apply to this job\"}):isMain?/*#__PURE__*/_jsx(\"button\",{className:style.btn,children:\"Post your startup.\"}):isMainHomepage?/*#__PURE__*/_jsx(\"button\",{id:style.joinBtn,children:\"Join FindDevs for free.\"}):isHomepage?/*#__PURE__*/_jsx(\"span\",{className:style.headerIcon,children:\"join\"}):/*#__PURE__*/_jsx(\"span\",{id:style.nonHomepage,children:\"Join FindDevs\"}),modal:true,children:function children(close){var _jsxs2;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{id:style.mainDiv,children:/*#__PURE__*/_jsxs(\"div\",{id:style.form,children:[/*#__PURE__*/_jsx(\"button\",{id:style.closeBtn,onClick:function onClick(){return closePopUp(close);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})}),/*#__PURE__*/_jsx(\"h1\",{id:style.title,children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"span\",{style:{width:'85%'},children:[\"Join \",/*#__PURE__*/_jsx(\"span\",{className:\"font800\",children:\"FindDevs\"}),\" today and get the boost your startup needs.\"]}),/*#__PURE__*/_jsx(\"div\",{className:errors['username']?style.inputcontainerError:style.inputcontainer,children:/*#__PURE__*/_jsx(\"input\",{value:input.fullName,name:\"username\",className:style.input,placeholder:\"Your username\",onChange:function onChange(e){return handleInputChange(e);}})}),errors['username']&&/*#__PURE__*/_jsx(\"span\",{id:style.alertSpan,children:errors['username']}),/*#__PURE__*/_jsx(\"div\",{className:errors['email']?style.inputcontainerError:style.inputcontainer,children:/*#__PURE__*/_jsx(\"input\",{value:input.email,name:\"email\",className:style.input,placeholder:\"Email\",onChange:function onChange(e){return handleInputChange(e);}})}),errors['email']&&/*#__PURE__*/_jsx(\"span\",{id:style.alertSpan,children:errors['email']}),/*#__PURE__*/_jsxs(\"div\",(_jsxs2={className:errors['email']?style.inputcontainerError:style.inputcontainer},_defineProperty(_jsxs2,\"className\",style.inputcontainer),_defineProperty(_jsxs2,\"children\",[/*#__PURE__*/_jsx(\"input\",{value:input.password,name:\"password\",type:showPass?'text':'password',className:style.input,placeholder:\"Password\",onChange:function onChange(e){return handleInputChange(e);}}),/*#__PURE__*/_jsx(\"button\",{id:style.showPassBtn,onClick:function onClick(){return setShowPass(!showPass);},children:showPass?'Hide':'Show'})]),_jsxs2)),errors['password']&&/*#__PURE__*/_jsx(\"span\",{id:style.alertSpan,children:errors['password']}),/*#__PURE__*/_jsx(\"button\",{disabled:!input.username||!input.password||!input.email||disabled?true:false,id:style.createBtn,onClick:function onClick(){return handleSubmit();},children:\"Create your account.\"})]})})});}});}export default RegisterPopUp;","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Components/PopUps/RegisterPopUp.jsx"],"names":["React","useState","style","Popup","axios","randomColor","getBrightness","FontAwesomeIcon","faTimes","RegisterPopUp","isHomepage","isMain","isMainHomepage","isJobProfile","input","setInput","showPass","setShowPass","errors","setErrors","disabled","setDisabled","handleInputChange","e","target","name","test","value","email","username","handleSubmit","color","brightness","profilePic","post","then","res","localStorage","setItem","JSON","stringify","data","window","location","replace","catch","err","closePopUp","close","applyBtn","btn","joinBtn","headerIcon","nonHomepage","mainDiv","form","closeBtn","title","width","inputcontainerError","inputcontainer","fullName","alertSpan","password","showPassBtn","createBtn"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport style from './PopUpStyle.module.css';\nimport Popup from 'reactjs-popup';\nimport axios from 'axios';\nimport randomColor from 'randomcolor';\nimport { getBrightness } from '../../utils';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nfunction RegisterPopUp({ isHomepage, isMain, isMainHomepage, isJobProfile }) {\n\n    const [input, setInput] = useState({});\n    const [showPass, setShowPass] = useState(false);\n    const [errors, setErrors] = useState({});\n    const [disabled, setDisabled] = useState(false);\n\n    function handleInputChange(e) {\n        if (e.target.name === 'email') {\n            if (!(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g.test(e.target.value))) {\n                setErrors({ ...errors, email: 'Please enter a valid email.' });\n                setDisabled(true);\n            } else {\n                setErrors({ ...errors, email: false });\n                setDisabled(false);\n            }\n        }\n        if (e.target.name === 'username' && errors.username) {\n            setErrors({ ...errors, username: false });\n            setDisabled(false);\n        }\n        setInput({\n            ...input,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    function handleSubmit() {\n        input.color = randomColor();\n        input.brightness = getBrightness(input.color);\n        input.profilePic = 'https://iupac.org/wp-content/uploads/2018/05/default-avatar.png';\n        axios.post('/auth/register', input)\n            .then(res => {\n                localStorage.setItem('user', JSON.stringify(res.data));\n                window.location.replace('/edit/user/me');\n            })\n            .catch(err => {\n                setErrors({ ...errors, username: 'Username already taken', email: 'A user with this email already exists.' });\n                setDisabled(true);\n            })\n    }\n\n    function closePopUp(close) {\n        setErrors({});\n        setDisabled(false);\n        setInput({});\n        close();\n    }\n\n    return (\n        <Popup trigger={\n            isJobProfile ? <button id={style.applyBtn}>Apply to this job</button> : \n            isMain ? <button className={style.btn}>Post your startup.</button> :\n                isMainHomepage ? <button id={style.joinBtn}>Join FindDevs for free.</button> :\n                    isHomepage ?\n                        <span className={style.headerIcon}>join</span> :\n                        <span id={style.nonHomepage}>Join FindDevs</span>\n        } modal>\n            {close => (\n                <div>\n                    <div id={style.mainDiv}>\n                        <div id={style.form}>\n                            <button id={style.closeBtn} onClick={() => closePopUp(close)}><FontAwesomeIcon icon={faTimes} /></button>\n                            <h1 id={style.title}>Sign Up</h1>\n                            <span style={{ width: '85%' }}>Join <span className='font800'>FindDevs</span> today and get the boost your startup needs.</span>\n                            <div className={errors['username'] ? style.inputcontainerError : style.inputcontainer}>\n                                <input value={input.fullName} name='username' className={style.input} placeholder='Your username' onChange={(e) => handleInputChange(e)}></input>\n                            </div>\n                            {errors['username'] && <span id={style.alertSpan}>{errors['username']}</span>}\n                            <div className={errors['email'] ? style.inputcontainerError : style.inputcontainer}>\n                                <input value={input.email} name='email' className={style.input} placeholder='Email' onChange={(e) => handleInputChange(e)}></input>\n                            </div>\n                            {errors['email'] && <span id={style.alertSpan}>{errors['email']}</span>}\n                            <div className={errors['email'] ? style.inputcontainerError : style.inputcontainer} className={style.inputcontainer}>\n                                <input value={input.password} name='password' type={showPass ? 'text' : 'password'} className={style.input} placeholder='Password' onChange={(e) => handleInputChange(e)}></input>\n                                <button id={style.showPassBtn} onClick={() => setShowPass(!showPass)}>{showPass ? 'Hide' : 'Show'}</button>\n                            </div>\n                            {errors['password'] && <span id={style.alertSpan}>{errors['password']}</span>}\n                            <button disabled={!input.username || !input.password || !input.email || disabled ? true : false} id={style.createBtn} onClick={() => handleSubmit()} >Create your account.</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </Popup>\n    )\n}\n\n\nexport default RegisterPopUp"]},"metadata":{},"sourceType":"module"}