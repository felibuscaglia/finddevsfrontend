{"ast":null,"code":"import _objectSpread from\"/Users/felipebuscaglia/Henry/FindDevs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={allSkills:[],userInfo:{},projects:[],users:[],jobs:[],skillSelection:[],jobSkillSelection:[],filteredWorkers:[],filteredJobs:[],notifications:[],limitOfPosts:false};function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var firstFilteredWorkers;var i;var j;var i;var firstFilteredJobs;var i;var j;var i;var filteredArray;var filteredArray;var _ret=function(){switch(action.type){case'SET_GLOBAL_SKILLS':return{v:_objectSpread(_objectSpread({},state),{},{allSkills:action.payload})};case'SET_USER_DATA':var find=action.payload.projects.find(function(project){return project.userXprojects.isFounder===true&&!project.isDeleted&&project.ownerId===action.payload.id;});return{v:_objectSpread(_objectSpread({},state),{},{userInfo:action.payload,limitOfPosts:find&&!action.payload.isPremium?true:false})};case'SET_PROJECTS':return{v:_objectSpread(_objectSpread({},state),{},{projects:action.payload})};case'GET_USERS':return{v:_objectSpread(_objectSpread({},state),{},{users:action.payload,filteredWorkers:action.payload})};case'GET_JOBS':return{v:_objectSpread(_objectSpread({},state),{},{jobs:action.payload,filteredJobs:action.payload})};case'REMOVE_FILTER':var preFilteredSkills=state.skillSelection.filter(function(skill){return skill.id!==action.payload.id;});if(preFilteredSkills.length>0){firstFilteredWorkers=[];for(i=0;i<state.users.length;i++){for(j=0;j<state.users[i].skills.length;j++){if(state.users[i].skills[j].id===preFilteredSkills[0].id)firstFilteredWorkers.push(state.users[i]);}}for(i=1;i<preFilteredSkills.length;i++){firstFilteredWorkers=firstFilteredWorkers.filter(function(worker){for(var j=0;j<worker.skills.length;j++){if(worker.skills[j].id===preFilteredSkills[i].id)return worker;}});}}return{v:_objectSpread(_objectSpread({},state),{},{skillSelection:preFilteredSkills,filteredWorkers:preFilteredSkills.length>0?firstFilteredWorkers:state.users})};case'REMOVE_JOB_FILTER':var preFilteredJobSkills=state.jobSkillSelection.filter(function(skill){return skill.id!==action.payload.id;});if(preFilteredJobSkills.length>0){firstFilteredJobs=[];for(i=0;i<state.jobs.length;i++){for(j=0;j<state.jobs[i].skills.length;j++){if(state.jobs[i].skills[j].id===preFilteredJobSkills[0].id)firstFilteredJobs.push(state.jobs[i]);}}for(i=1;i<preFilteredJobSkills.length;i++){firstFilteredJobs=firstFilteredJobs.filter(function(job){for(var j=0;j<job.skills.length;j++){if(job.skills[j].id===preFilteredJobSkills[i].id)return job;}});}}return{v:_objectSpread(_objectSpread({},state),{},{jobSkillSelection:preFilteredJobSkills,filteredJobs:preFilteredJobSkills.length>0?firstFilteredJobs:state.jobs})};case'SELECT_WORKERS':filteredArray=state.filteredWorkers.map(function(worker){for(var i=0;i<worker.skills.length;i++){if(worker.skills[i].label===action.payload.label)return worker;}});filteredArray=filteredArray.filter(function(worker){return worker!==undefined;});filteredArray=filteredArray.sort(function(a,b){return b.isPremium-a.isPremium;});var found=state.allSkills.find(function(skill){return skill.id===action.payload.id;});return{v:_objectSpread(_objectSpread({},state),{},{filteredWorkers:filteredArray,skillSelection:state.skillSelection.concat(found)})};case'FILTER_JOBS':filteredArray=state.filteredJobs.map(function(job){for(var i=0;i<job.skills.length;i++){if(job.skills[i].label===action.payload.label)return job;}});filteredArray=filteredArray.filter(function(job){return job!==undefined;});var skillFound=state.allSkills.find(function(skill){return skill.id===action.payload.id;});return{v:_objectSpread(_objectSpread({},state),{},{filteredJobs:filteredArray,jobSkillSelection:state.jobSkillSelection.concat(skillFound)})};case'GET_NOTIFICATIONS':return{v:_objectSpread(_objectSpread({},state),{},{notifications:action.payload})};default:return{v:state};}}();if(typeof _ret===\"object\")return _ret.v;}export default rootReducer;","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/FindDevs/client/src/Reducers/index.js"],"names":["initialState","allSkills","userInfo","projects","users","jobs","skillSelection","jobSkillSelection","filteredWorkers","filteredJobs","notifications","limitOfPosts","rootReducer","state","action","firstFilteredWorkers","i","j","firstFilteredJobs","filteredArray","type","payload","find","project","userXprojects","isFounder","isDeleted","ownerId","id","isPremium","preFilteredSkills","filter","skill","length","skills","push","worker","preFilteredJobSkills","job","map","label","undefined","sort","a","b","found","concat","skillFound"],"mappings":"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","sourcesContent":["const initialState = {\n    allSkills: [],\n    userInfo: {},\n    projects: [],\n    users: [],\n    jobs: [],\n    skillSelection: [],\n    jobSkillSelection: [],\n    filteredWorkers: [],\n    filteredJobs: [],\n    notifications: [],\n    limitOfPosts: false\n}\n\nfunction rootReducer(state = initialState, action) {\n    switch (action.type) {\n        case 'SET_GLOBAL_SKILLS':\n            return {\n                ...state,\n                allSkills: action.payload\n            }\n        case 'SET_USER_DATA':\n            const find = action.payload.projects.find (project => project.userXprojects.isFounder === true && !project.isDeleted && project.ownerId ===action.payload.id);\n            return {\n                ...state,\n                userInfo: action.payload,\n                limitOfPosts: find && !action.payload.isPremium ? true : false\n            }\n        case 'SET_PROJECTS':\n            return {\n                ...state,\n                projects: action.payload,\n            }\n        case 'GET_USERS':\n            return {\n                ...state,\n                users: action.payload,\n                filteredWorkers: action.payload\n            }\n        case 'GET_JOBS':\n            return {\n                ...state,\n                jobs: action.payload,\n                filteredJobs: action.payload\n            }\n        case 'REMOVE_FILTER':\n            const preFilteredSkills = state.skillSelection.filter(skill => skill.id !== action.payload.id);\n            if (preFilteredSkills.length > 0) {\n                var firstFilteredWorkers = [];\n                for (var i = 0; i < state.users.length; i++) {\n                    for (var j = 0; j < state.users[i].skills.length; j++) {\n                        if (state.users[i].skills[j].id === preFilteredSkills[0].id) firstFilteredWorkers.push(state.users[i]);\n                    }\n                }\n                for (var i = 1; i < preFilteredSkills.length; i++) {\n                    firstFilteredWorkers = firstFilteredWorkers.filter(worker => {\n                        for (var j = 0; j < worker.skills.length; j++) {\n                            if (worker.skills[j].id === preFilteredSkills[i].id) return worker;\n                        }\n                    })\n                }\n            }\n            return {\n                ...state,\n                skillSelection: preFilteredSkills,\n                filteredWorkers: preFilteredSkills.length > 0 ? firstFilteredWorkers : state.users\n            }\n\n        case 'REMOVE_JOB_FILTER':\n            const preFilteredJobSkills = state.jobSkillSelection.filter(skill => skill.id !== action.payload.id);\n            if (preFilteredJobSkills.length > 0) {\n                var firstFilteredJobs = [];\n                for (var i = 0; i < state.jobs.length; i++) {\n                    for (var j = 0; j < state.jobs[i].skills.length; j++) {\n                        if (state.jobs[i].skills[j].id === preFilteredJobSkills[0].id) firstFilteredJobs.push(state.jobs[i]);\n                    }\n                }\n                for (var i = 1; i < preFilteredJobSkills.length; i++) {\n                    firstFilteredJobs = firstFilteredJobs.filter(job => {\n                        for (var j = 0; j < job.skills.length; j++) {\n                            if (job.skills[j].id === preFilteredJobSkills[i].id) return job;\n                        }\n                    })\n                }\n            }\n            return {\n                ...state,\n                jobSkillSelection: preFilteredJobSkills,\n                filteredJobs: preFilteredJobSkills.length > 0 ? firstFilteredJobs : state.jobs\n            }\n\n        case 'SELECT_WORKERS':\n            var filteredArray = state.filteredWorkers.map(worker => {\n                for (var i = 0; i < worker.skills.length; i++) {\n                    if (worker.skills[i].label === action.payload.label) return worker;\n                }\n            });\n            filteredArray = filteredArray.filter(worker => worker !== undefined);\n            filteredArray = filteredArray.sort((a, b) => {\n                return b.isPremium - a.isPremium\n            })\n            const found = state.allSkills.find(skill => skill.id === action.payload.id);\n            return {\n                ...state,\n                filteredWorkers: filteredArray,\n                skillSelection: state.skillSelection.concat(found)\n            }\n\n        case 'FILTER_JOBS':\n            var filteredArray = state.filteredJobs.map(job => {\n                for (var i = 0; i < job.skills.length; i++) {\n                    if (job.skills[i].label === action.payload.label) return job;\n                }\n            });\n            filteredArray = filteredArray.filter(job => job !== undefined);\n            const skillFound = state.allSkills.find(skill => skill.id === action.payload.id);\n            return {\n                ...state,\n                filteredJobs: filteredArray,\n                jobSkillSelection: state.jobSkillSelection.concat(skillFound)\n            }\n\n        case 'GET_NOTIFICATIONS':\n            return {\n                ...state,\n                notifications: action.payload\n            }\n\n        default: return state\n    }\n}\n\n\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}