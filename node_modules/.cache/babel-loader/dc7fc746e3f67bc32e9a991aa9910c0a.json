{"ast":null,"code":"import _slicedToArray from\"/Users/felipebuscaglia/Henry/finddevsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import style from'./UserProfile.module.css';import{Link}from'react-router-dom';import jwt from'jsonwebtoken';import HirePopUp from'../../Components/HirePopUp/HirePopUp';import Tooltip from'@material-ui/core/Tooltip';import{withStyles}from\"@material-ui/core/styles\";import ProjectCard from'../../Components/ProfileProjectCard/ProfileProjectCard';import Loading from'../../Media/Loading.gif';import Logo from'../../Media/logo.png';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheckCircle,faPlusCircle}from'@fortawesome/free-solid-svg-icons';import{faGithubSquare,faLinkedin,faTwitterSquare}from'@fortawesome/free-brands-svg-icons';import Verification from'../../Media/Verification.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserProfile(_ref){var username=_ref.username,pathname=_ref.pathname;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isUser=_useState4[0],setIsUser=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),color=_useState6[0],setColor=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hasWorked=_useState8[0],setHasWorked=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),hasCreated=_useState10[0],setHasCreated=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),noUser=_useState14[0],setNoUser=_useState14[1];useEffect(function(){var usuario=jwt.decode(JSON.parse(localStorage.getItem('user')));if(!usuario)setNoUser(true);axios.get(\"/users/\".concat(username)).then(function(res){if(res.data===null)window.location.replace('/error');setUser(res.data);setColor(res.data.color);var userProjects={};if(res.data.projects.find(function(project){return project.userXprojects.isFounder===true;}))userProjects.own=true;if(res.data.projects.find(function(project){return project.userXprojects.isFounder===false;}))userProjects.joined=true;setHasCreated(userProjects);if(usuario&&usuario.username===res.data.username)setIsUser(true);if(pathname.search===\"?verify\"&&usuario&&usuario.username!==res.data.username)setHasWorked(true);setLoading(false);}).catch(function(err){return console.log(err);});},[]);function validateSkill(skill){if(hasWorked){axios.post(\"/skills/\".concat(username,\"/validate\"),{skill:skill.label}).then(function(res){return window.location.reload();}).catch(function(err){return console.log(err);});}}var BlueOnGreenTooltip=withStyles({tooltip:{color:\"white\",backgroundColor:\"#181a19\",fontFamily:'Nunito',fontSize:'12px'}})(Tooltip);return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"img\",{alt:\"Suggestions GIF\",id:style.loading,src:Loading}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:style.cover,style:{backgroundColor:color}}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlexColumn\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"div\",{id:style.socialMediaDiv,style:{color:color},children:[isUser?/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/edit/user/me\",children:/*#__PURE__*/_jsx(\"button\",{style:{background:color,color:user.brightness==='bright'?'#fff':'#000'},id:style.btn,children:\"UPDATE PROFILE\"})}):noUser?null:/*#__PURE__*/_jsx(HirePopUp,{applicantsNotifications:user.notifications,applicantUsername:user.username,color:color}),user.gitHub&&/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:user.gitHub,style:{textDecoration:'none',color:color},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGithubSquare})}),user.linkedIn&&/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:user.linkedIn,style:{textDecoration:'none',color:color},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faLinkedin})}),user.twitter&&/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:user.twitter,style:{textDecoration:'none',color:color},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTwitterSquare})})]}),/*#__PURE__*/_jsx(\"div\",{style:{border:\"10px solid \".concat(color),alignSelf:'center',backgroundImage:\"url(\".concat(user.profilePic,\")\")},id:style.profilePic}),/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlex\",id:\"alignItemsCenter\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font800\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:color},children:\"@ \"}),user.username]}),user.isPremium?/*#__PURE__*/_jsx(\"img\",{src:Verification,id:style.verification}):null]}),/*#__PURE__*/_jsx(\"span\",{id:style.description,children:user.description}),/*#__PURE__*/_jsxs(\"div\",{id:style.datadiv,children:[user.region&&user.country?/*#__PURE__*/_jsx(\"span\",{children:user.region&&user.country&&\"\\uD83D\\uDCCD \".concat(user.region,\", \").concat(user.country)}):null,/*#__PURE__*/_jsx(\"div\",{id:style.skillDiv,children:user.skills&&user.skills.map(function(skill){return hasWorked?/*#__PURE__*/_jsx(BlueOnGreenTooltip,{title:skill.user_skills.isValidated?'Already validated!':\"Validate @\".concat(username,\"'s skill!\"),children:/*#__PURE__*/_jsx(\"div\",{style:{background:skill.strongColor,color:skill.softColor},id:style.skillBtn,onClick:function onClick(){return validateSkill(skill);},children:/*#__PURE__*/_jsxs(\"span\",{children:[hasWorked&&!skill.user_skills.isValidated&&/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlusCircle}),\" \",skill.user_skills.isValidated?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle}):null,\" \",skill.label]})})},skill.user_skills.id):/*#__PURE__*/_jsx(\"div\",{style:{background:skill.strongColor,color:skill.softColor},id:style.skillBtn,onClick:function onClick(){return validateSkill(skill);},children:/*#__PURE__*/_jsxs(\"span\",{children:[hasWorked&&!skill.user_skills.isValidated&&/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlusCircle}),\" \",skill.user_skills.isValidated?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle}):null,\" \",skill.label]})});})})]}),hasCreated.own&&/*#__PURE__*/_jsxs(\"div\",{className:style.projectDiv,children:[/*#__PURE__*/_jsx(\"h3\",{id:style.smallerTitles,className:\"font800\",children:\"Projects created\"}),/*#__PURE__*/_jsx(\"div\",{id:style.mainProjectDiv,children:user.projects&&user.projects.map(function(project){return project.userXprojects.isFounder?/*#__PURE__*/_jsx(ProjectCard,{isFounder:true,project:project},project.id):null;})})]}),hasCreated.joined&&/*#__PURE__*/_jsxs(\"div\",{className:style.projectDiv,children:[/*#__PURE__*/_jsx(\"h3\",{id:style.smallerTitles,className:\"font800\",children:\"Project joined\"}),/*#__PURE__*/_jsx(\"div\",{id:style.mainProjectDiv,children:user.projects&&user.projects.map(function(project){return!project.userXprojects.isFounder?/*#__PURE__*/_jsx(ProjectCard,{project:project},project.id):null;})})]}),user.projects.length===0&&/*#__PURE__*/_jsxs(\"div\",{id:style.emptyDiv,children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,id:style.empty}),/*#__PURE__*/_jsx(\"h3\",{className:\"font200\",children:isUser?\"You haven't joined or created any project.\":\"This developer hasn't joined or created any project.\"})]})]})]})});}export default UserProfile;","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Screens/UserProfile/UserProfile.jsx"],"names":["React","useEffect","useState","axios","style","Link","jwt","HirePopUp","Tooltip","withStyles","ProjectCard","Loading","Logo","FontAwesomeIcon","faCheckCircle","faPlusCircle","faGithubSquare","faLinkedin","faTwitterSquare","Verification","UserProfile","username","pathname","user","setUser","isUser","setIsUser","color","setColor","hasWorked","setHasWorked","hasCreated","setHasCreated","loading","setLoading","noUser","setNoUser","usuario","decode","JSON","parse","localStorage","getItem","get","then","res","data","window","location","replace","userProjects","projects","find","project","userXprojects","isFounder","own","joined","search","catch","err","console","log","validateSkill","skill","post","label","reload","BlueOnGreenTooltip","tooltip","backgroundColor","fontFamily","fontSize","cover","socialMediaDiv","background","brightness","btn","notifications","gitHub","textDecoration","linkedIn","twitter","border","alignSelf","backgroundImage","profilePic","isPremium","verification","description","datadiv","region","country","skillDiv","skills","map","user_skills","isValidated","strongColor","softColor","skillBtn","id","projectDiv","smallerTitles","mainProjectDiv","length","emptyDiv","empty"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport style from './UserProfile.module.css';\nimport { Link } from 'react-router-dom';\nimport jwt from 'jsonwebtoken';\nimport HirePopUp from '../../Components/HirePopUp/HirePopUp';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ProjectCard from '../../Components/ProfileProjectCard/ProfileProjectCard';\nimport Loading from '../../Media/Loading.gif';\nimport Logo from '../../Media/logo.png';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle, faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faGithubSquare, faLinkedin, faTwitterSquare } from '@fortawesome/free-brands-svg-icons';\nimport Verification from '../../Media/Verification.png';\n\nfunction UserProfile({ username, pathname }) {\n\n    const [user, setUser] = useState({});\n    const [isUser, setIsUser] = useState(false)\n    const [color, setColor] = useState(null);\n    const [hasWorked, setHasWorked] = useState(false);\n    const [hasCreated, setHasCreated] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [noUser, setNoUser] = useState(false);\n\n    useEffect(() => {\n        const usuario = jwt.decode(JSON.parse(localStorage.getItem('user')));\n        if (!usuario) setNoUser(true);\n        axios.get(`/users/${username}`)\n            .then(res => {\n                if (res.data === null) window.location.replace('/error');\n                setUser(res.data);\n                setColor(res.data.color);\n                var userProjects = {};\n                if (res.data.projects.find(project => project.userXprojects.isFounder === true)) userProjects.own = true;\n                if (res.data.projects.find(project => project.userXprojects.isFounder === false)) userProjects.joined = true;\n                setHasCreated(userProjects);\n                if (usuario && usuario.username === res.data.username) setIsUser(true);\n                if (pathname.search === \"?verify\" && usuario && usuario.username !== res.data.username) setHasWorked(true);\n                setLoading(false);\n            })\n            .catch(err => console.log(err))\n    }, [])\n\n    function validateSkill(skill) {\n        if (hasWorked) {\n            axios.post(`/skills/${username}/validate`, { skill: skill.label })\n                .then(res => window.location.reload())\n                .catch(err => console.log(err))\n        }\n    }\n\n    const BlueOnGreenTooltip = withStyles({\n        tooltip: {\n            color: \"white\",\n            backgroundColor: \"#181a19\",\n            fontFamily: 'Nunito',\n            fontSize: '12px'\n        }\n    })(Tooltip);\n\n    return (\n        <div>\n            {loading ?\n                <img alt=\"Suggestions GIF\" id={style.loading} src={Loading} /> :\n                <div>\n                    <div id={style.cover} style={{ backgroundColor: color }}></div>\n                    <div className='displayFlexColumn' id='alignItemsCenter'>\n                        <div id={style.socialMediaDiv} style={{ color: color }}>\n                            {isUser ? <Link className='link' to='/edit/user/me'><button style={{ background: color, color: user.brightness === 'bright' ? '#fff' : '#000' }} id={style.btn}>UPDATE PROFILE</button></Link> : noUser ? null : <HirePopUp applicantsNotifications={user.notifications} applicantUsername={user.username} color={color} />}\n                            {user.gitHub && <a target='_blank' rel=\"noreferrer\" href={user.gitHub} style={{ textDecoration: 'none', color: color }}><FontAwesomeIcon icon={faGithubSquare} /></a>}\n                            {user.linkedIn && <a target='_blank' rel=\"noreferrer\" href={user.linkedIn} style={{ textDecoration: 'none', color: color }}><FontAwesomeIcon icon={faLinkedin} /></a>}\n                            {user.twitter && <a target='_blank' rel=\"noreferrer\" href={user.twitter} style={{ textDecoration: 'none', color: color }}><FontAwesomeIcon icon={faTwitterSquare} /></a>}\n                        </div>\n                        <div style={{ border: `10px solid ${color}`, alignSelf: 'center', backgroundImage: `url(${user.profilePic})` }} id={style.profilePic}></div>\n                        <div className='displayFlex' id=\"alignItemsCenter\">\n                            <h3 className='font800'><span style={{ color: color }}>@ </span>{user.username}</h3>\n                            {user.isPremium ? <img src={Verification} id={style.verification} /> : null}\n                        </div>\n                        <span id={style.description}>{user.description}</span>\n                        <div id={style.datadiv}>\n                            {user.region && user.country ?\n                                <span>{user.region && user.country && `📍 ${user.region}, ${user.country}`}</span> :\n                                null\n                            }\n                            <div id={style.skillDiv}>\n                                {user.skills && user.skills.map(skill =>\n                                    hasWorked ?\n                                        <BlueOnGreenTooltip key={skill.user_skills.id} title={skill.user_skills.isValidated ? 'Already validated!' : `Validate @${username}'s skill!`}>\n                                            <div style={{ background: skill.strongColor, color: skill.softColor }} id={style.skillBtn} onClick={() => validateSkill(skill)}>\n                                                <span>{hasWorked && !skill.user_skills.isValidated && <FontAwesomeIcon icon={faPlusCircle} />} {skill.user_skills.isValidated ? <FontAwesomeIcon icon={faCheckCircle} /> : null} {skill.label}</span>\n                                            </div>\n                                        </BlueOnGreenTooltip> :\n                                        <div style={{ background: skill.strongColor, color: skill.softColor }} id={style.skillBtn} onClick={() => validateSkill(skill)}>\n                                            <span>{hasWorked && !skill.user_skills.isValidated && <FontAwesomeIcon icon={faPlusCircle} />} {skill.user_skills.isValidated ? <FontAwesomeIcon icon={faCheckCircle} /> : null} {skill.label}</span>\n                                        </div>\n                                )}\n                            </div>\n                        </div>\n                        {hasCreated.own && <div className={style.projectDiv}>\n                            <h3 id={style.smallerTitles} className='font800'>Projects created</h3>\n                            <div id={style.mainProjectDiv}>\n                                {user.projects && user.projects.map(project => project.userXprojects.isFounder ? <ProjectCard key={project.id} isFounder={true} project={project} /> : null)}\n                            </div>\n                        </div>}\n                        {hasCreated.joined && <div className={style.projectDiv}>\n                            <h3 id={style.smallerTitles} className='font800'>Project joined</h3>\n                            <div id={style.mainProjectDiv}>\n                                {user.projects && user.projects.map(project => !project.userXprojects.isFounder ? <ProjectCard key={project.id} project={project} /> : null)}\n                            </div>\n                        </div>}\n                        {user.projects.length === 0 &&\n                            <div id={style.emptyDiv}>\n                                <img src={Logo} id={style.empty} />\n                                <h3 className='font200'>{isUser ? \"You haven't joined or created any project.\" : \"This developer hasn't joined or created any project.\"}</h3>\n                            </div>}\n                    </div>\n                </div>}\n        </div>\n    )\n}\n\nexport default UserProfile;"]},"metadata":{},"sourceType":"module"}